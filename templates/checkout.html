{% from 'navbar.html' import navbar %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Maven</title>
    <!-- Stylesheet Link -->
    <link rel="stylesheet" href="./static/globals.css">
    <link rel="stylesheet" href="./static/checkout.css">
    <link rel="stylesheet" href="./static/store.css">
    <link rel="stylesheet" href="./static/form.css">
    <!-- Script Tag -->
    <script src="./static/script.js" defer></script>
    <!-- Icons Link -->
    <script src="https://kit.fontawesome.com/6d232ec003.js" crossorigin="anonymous"></script>
</head>

<body>
    {{ navbar(session) }}

    <div class="page">
        <div class="checkout flex">
            <div class="checkout-form">
                <div class="form">
                    <h1 class="title">Checkout With Your Purchase</h1>
                    <h1 class="subtitle">** Enter authentic details to complete the purchase **</h1>

                <form action="?" method="post">
                    <div class="input-box">
                        <div class="input msg" id="{{msgColor}}">
                            {{msg}}
                        </div>
                    </div>

                    <h1 class="title">Billing Details:</h1>

                    <div class="input-box">
                        <label 
                            for="fullname">
                            <i class="fa fa-user"></i> Full Name: 
                        </label>

                        <input 
                            class="input"
                            type="text" 
                            name="fullname" 
                            id="fullname" 
                            placeholder="Eg: Hardik Shah"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="email">
                            <i class="fa fa-envelope"></i> Email: 
                        </label>

                        <input 
                            class="input"
                            type="email" 
                            name="email" 
                            id="email" 
                            placeholder="Eg: abc@gmail.com"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="name">
                            <i class="fa fa-address-card-o"></i> Address: 
                        </label>

                        <input 
                            class="input"
                            type="text" 
                            name="address" 
                            id="address" 
                            placeholder="Eg: 101/C, Bldg Name"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="city">
                            <i class="fa fa-institution"></i> City: 
                        </label>

                        <input 
                            class="input"
                            type="text" 
                            name="city" 
                            id="city" 
                            placeholder="Eg: Mumbai"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="state">
                            <i class="fa-solid fa-mountain-city"></i> City: 
                        </label>

                        <input 
                            class="input"
                            type="text" 
                            name="state" 
                            id="state" 
                            placeholder="Eg: Maharasthra"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="zip">
                            <i class="fa-solid fa-location-crosshairs"></i> Zip: 
                        </label>

                        <input 
                            class="input"
                            type="number" 
                            name="zip" 
                            id="zip" 
                            placeholder="Eg: 400010"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <h1 class="title">Payment Details:</h1>
                    <h1 class="subtitle">Accepted Cards</h1>
                    <h1 class="flex gap-5 title">
                        <i class="fa fa-cc-visa" id="navy-card"></i>
                        <i class="fa fa-cc-amex" id="blue-card"></i>
                        <i class="fa fa-cc-mastercard" id="red-card"></i>
                        <i class="fa fa-cc-discover" id="orange-card"></i>
                    </h1>

                    <div class="input-box">
                        <label 
                            for="city">
                            <i class="fa-solid fa-signature"></i> Name on the card: 
                        </label>

                        <input 
                            class="input"
                            type="text" 
                            name="card-name" 
                            id="card-name" 
                            placeholder="Eg: Hardik T Shah"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="card-no">
                            <i class="fa-solid fa-list-ol"></i> Card Number: 
                        </label>

                        <input 
                            class="input"
                            type="text" 
                            name="card-no" 
                            id="card-no" 
                            placeholder="Eg: 1234-5678-1011-1213"
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="card-exp">
                            <i class="fa-solid fa-calendar-days"></i> Expiry Date: 
                        </label>

                        <input 
                            class="input"
                            type="month" 
                            name="card-exp" 
                            id="card-exp" 
                            autocomplete="off"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <label 
                            for="card-cvv">
                            <i class="fa-solid fa-key"></i> CVV: 
                        </label>

                        <input 
                            class="input"
                            type="password" 
                            name="card-cvv" 
                            id="card-cvv" 
                            autocomplete="off"
                            placeholder="Eg: ***"
                            required
                        >
                    </div>

                    <div class="input-box">
                        <button 
                            class="form-btn"
                            type="submit">
                            Complete Purchase
                        </button>
                    </div>
                </form>
                </div>
            </div>

            <div class="checkout-store">
                <h1 class="title">Cart Items</h1>

                <div class="store" id="cart-items">

                    {% for cartitem in display_cart %}
                    <div class="store-item">
                        <div class="flex">
                            <div class="store-item-img">
                                <img src="data:image/png;base64,{{ cartitem[5] }}" alt="store-item">
                            </div>
                            
                            <div class="store-item-text">
                                <p class="store-item-title">
                                {{cartitem[1]}} {{cartitem[2]}}
                                </p>
                                <p class="store-item-price">
                                    ₹{{cartitem[3]}}
                                </p>
                            </div>
                        </div>

                        <div class="quantity">
                            <div class="qty">{{ cartitem[6] }}</div>
                        </div>
                    </div>
                    {% endfor %}

                </div>
                <br>
                <hr>
                <div class="checkout-total flex">
                    <h1 class="subtitle">Subtotal&emsp;&nbsp;: </h1>
                    <h1 class="subtitle">₹{{total[0]}}</h1>
                </div>
                <div class="checkout-total flex">
                    <h1 class="subtitle">CGST (9%)&nbsp;&nbsp;&nbsp;: </h1>
                    <h1 class="subtitle">₹{{total[1]}}</h1>
                </div>
                <div class="checkout-total flex">
                    <h1 class="subtitle">SGST (9%)&nbsp;&nbsp;&nbsp;: </h1>
                    <h1 class="subtitle">₹{{total[2]}}</h1>
                </div>
                <hr>
                <div class="checkout-total flex">
                    <h1 class="title">Grand Total: </h1>
                    <h1 class="title">₹{{total[3]}}</h1>
                </div>
            </div>
        </div>
    </div>
</body>

</html>